/*!
 * jQuery Notify
 * Copyright (c) 2014 CreativeDream
 * Website http://creativedream.net/plugins
 * Version: 1.0 (01-10-2014)
 * Requires: jQuery v1.7.1 or later
 */
function notify(t){return $.cNotify(t)}!function(t){t.cNotify=function(o){o=t.extend({},{type:"default",title:null,message:null,position:{x:"right",y:"bottom"},icon:null,size:"normal",overlay:!1,closeBtn:!0,overflowHide:!1,spacing:20,theme:"default",autoHide:!1,delay:2500,onShow:null,onClick:null,onHide:null,template:'<div class="notify"><div class="notify-text"></div></div>',_classes:{box:".notify",closeBtn:".notify-close-btn",content:".notify-text",icon:".notify-icon",iconI:".notify-icon-inner",overlay:".notify-overlay"}},o);var i=t(o.template).hide(),e=(o._classes.box,{init:function(){e._setContent(),i.on("click",function(t){null!=o.onClick&&o.onClick(t,i,o)})},_show:function(){i.fadeIn(250,function(t){null!=o.onShow&&o.onShow(i,o),o.autoHide&&e._hide(!0)})},_hide:function(n){var s;if("object"==typeof n)return(s=n).remove(),void e._reposition(s.attr("class"));s=i,null!=o.onHide&&o.onHide(s,o);var a=function(){t(o._classes.box+".notify-overlayed").length<1&&t(o._classes.overlay).fadeOut(250,function(){t(this).remove()}),e._reposition(s.attr("class"))};if(n){var l=30*t(o._classes.content).text().length;setTimeout(function(){s.fadeOut(function(){t(this).remove(),a()})},"number"!=typeof o.delay||"auto"==o.delay?l<2500?2500:l:o.delay)}else s.fadeOut(function(){t(this).remove(),a()})},_setContent:function(){if(o.theme&&null!=o.theme&&"default"!=o.theme&&i.addClass(o.theme),-1!=t.inArray(o.type,["success","error","warning","info"])&&i.addClass(o.type),o.title&&null!=o.title?i.find(o._classes.content).prepend("<h3>"+o.title+"</h3>"):i.addClass("notify-without-title"),o.message&&null!=o.message&&i.find(o._classes.content).append("<p>"+o.message+"</p>"),o.size&&null!=o.size&&"normal"!=o.size&&("full"!=o.size||"top"!=o.position.y&&"bottom"!=o.position.y?i.addClass("size-"+o.size):i.addClass("notify-"+o.position.y+"-full")),o.icon&&null!=o.icon){var n=t(o.icon).is("img")?t(o.icon):0!=t(o.icon).find("img").length?t(o.icon).find("img"):t(o.icon);i.prepend('<div class="notify-icon"><div class="notify-icon-inner">'+o.icon+"</div>")}else i.addClass("notify-without-icon");o.overlay&&null!=o.overlay&&(0==t("body").find(o._classes.overlay).length&&t('<div class="notify-overlay'+("string"==typeof o.overlay?" "+o.overlay:"")+'"></div>').hide().appendTo("body").fadeIn(250),i.addClass("notify-overlayed")),o.closeBtn?(i.prepend('<a href="javascript:;" class="notify-close-btn"></a>'),i.on("click",o._classes.closeBtn,function(){e._hide()})):i.on("click",function(){e._hide()}).css("cursor","pointer"),i.appendTo("body"),e._show(),e._poisition(),n&&n.on("load",function(){var t=Math.round(i.find(o._classes.iconI).outerHeight()/2);t>0&&i.find(o._classes.iconI).css("margin-top",-1*t)})},_poisition:function(){var n="notify-";if(o.position&&null!=o.position&&t.isPlainObject(o.position)&&o.position.x&&o.position.y){switch(o.position.y){case"top":n+="top-";break;case"center":n+="center-";break;case"bottom":n+="bottom-"}switch(o.position.x){case"right":n+="right";break;case"center":n+="center";break;case"left":n+="left"}}else n+="bottom-right";i.addClass(n),"notify-center-center"==n&&(t(".notify.notify-center-center").length>1&&e._hide(t(".notify.notify-center-center").first()),i.css({marginTop:i.outerHeight()/2*-1}));var s=t("body").find(".notify."+n).length;if(s>1){var a={};switch(pS=n.split("-"),pS[1]){case"top":a.top=parseFloat(t("body").find(".notify."+n).eq(s-2).css("top"))+t("body").find(".notify."+n).eq(s-2).outerHeight()+o.spacing;break;case"bottom":a.bottom=parseFloat(t("body").find(".notify."+n).eq(s-2).css("bottom"))+t("body").find(".notify."+n).eq(s-2).outerHeight()+o.spacing}i.css(a);var l=0;$(".notify."+n).each(function(){l+=$(this).outerHeight()+o.spacing}),l>=t(window).height()&&(o.overflowHide?e._hide(t("body").find(".notify."+n).first()):i.hide())}},_reposition:function(n){if(n.match(/notify\-bottom\-(right|left|center|full)/g))n=n.match(/notify\-bottom\-(right|left|center|full)/g)[0];else{if(!n.match(/notify\-top\-(right|left|center|full)/g))return!1;n=n.match(/notify\-top\-(right|left|center|full)/g)[0]}var s=0;$(".notify."+n).each(function(){s+=$(this).outerHeight()+o.spacing}),s>=t(window).height()&&(o.overflowHide?e._hide(t("body").find(".notify."+n).first()):i.hide()),t("body").find(".notify."+n+":hidden").first().show();var a={};$(".notify."+n).stop(!0,!0),$(".notify."+n).each(function(i,e){var s={},l=n.split("-");switch(l[1]){case"top":var c="full"==l[2]?0:21;if(0==i)return t(e).animate({top:c-1},300),a.top=c,a.height=t(e).outerHeight(),!0;s.top=parseFloat(a.top)+a.height+o.spacing,a.top=s.top,a.height=t(e).outerHeight();break;case"bottom":c="full"==l[2]?0:21;if(0==i)return t(e).animate({bottom:c-1},300),a.bottom=c,a.height=t(e).outerHeight(),!0;s.bottom=parseFloat(a.bottom)+a.height+o.spacing,a.bottom=s.bottom,a.height=t(e).outerHeight()}t(e).animate(s,300)})}});return e.init(),!0}}(jQuery);
